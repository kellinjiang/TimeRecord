<!--pages/index/index.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨æ—¶é—´æ˜¾ç¤º -->
  <view class="header">
    <text class="current-time">{{currentTime}}</text>
    <text class="current-date">{{currentDate}}</text>
  </view>

  <!-- ä¸­å¤®å½•éŸ³æŒ‰é’®åŒºåŸŸ -->
  <view class="record-area">
    <view class="record-btn {{isRecording ? 'recording' : ''}}"
          bindtap="toggleRecord">
      <view class="mic-icon">ðŸŽ¤</view>
      <text class="record-text">{{recordText}}</text>
    </view>

    <!-- å½•éŸ³çŠ¶æ€æç¤º -->
    <view class="status-tip" wx:if="{{statusTip}}">
      <text>{{statusTip}}</text>
    </view>
  </view>

  <!-- æœ€è¿‘è®°å½• -->
  <view class="recent-records">
    <view class="section-title">
      <text>ðŸ“‹ æœ€è¿‘è®°å½•</text>
    </view>

    <view class="record-list">
      <view class="record-item"
            wx:for="{{recentRecords}}"
            wx:key="id"
            bindtap="viewDetail"
            data-id="{{item._id}}">
        <view class="record-time">
          <text>{{item.startTimeStr}} - {{item.endTimeStr}}</text>
        </view>
        <view class="record-content">
          <text>{{item.content}}</text>
        </view>
        <view class="record-tags">
          <text class="tag"
                wx:for="{{item.tags}}"
                wx:for-item="tag"
                wx:key="index"
                style="background-color: {{tag.color}}20; color: {{tag.color}}">
            {{tag.icon}} {{tag.name}}
          </text>
        </view>
      </view>

      <!-- ç©ºçŠ¶æ€ -->
      <view class="empty-state" wx:if="{{recentRecords.length === 0}}">
        <text>ðŸŽ¯ ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹è®°å½•</text>
      </view>
    </view>
  </view>
</view>
