<!--登录页面-->
<view class="login-container">
  <!-- 顶部 Logo 区域 -->
  <view class="header">
    <view class="logo-container">
      <view class="logo">⏰</view>
      <view class="app-name">时间记录</view>
      <view class="app-slogan">用声音记录时间</view>
    </view>
  </view>

  <!-- 用户信息填写区域 -->
  <view class="form-container">
    <view class="form-title">完善个人信息</view>

    <!-- 头像选择 -->
    <view class="avatar-section">
      <view class="section-label">选择头像</view>
      <button class="avatar-btn" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
        <image
          wx:if="{{avatarUrl}}"
          class="avatar-image"
          src="{{avatarUrl}}"
          mode="aspectFill"
        ></image>
        <view wx:else class="avatar-placeholder">
          <text class="avatar-placeholder-icon">👤</text>
          <text class="avatar-placeholder-text">点击选择</text>
        </view>
      </button>
      <view class="section-tips">点击头像选择您的个人头像</view>
    </view>

    <!-- 昵称输入 -->
    <view class="nickname-section">
      <view class="section-label">输入昵称</view>
      <input
        class="nickname-input"
        type="nickname"
        placeholder="请输入您的昵称"
        value="{{nickName}}"
        bindinput="onNicknameInput"
        bindblur="onNicknameBlur"
        maxlength="20"
      />
      <view class="section-tips">最多20个字符</view>
    </view>
  </view>

  <!-- 功能介绍 -->
  <view class="features">
    <view class="feature-item">
      <text class="feature-icon">🎤</text>
      <text class="feature-text">语音录入，自动转文字</text>
    </view>
    <view class="feature-item">
      <text class="feature-icon">📊</text>
      <text class="feature-text">数据统计，可视化分析</text>
    </view>
    <view class="feature-item">
      <text class="feature-icon">🏷️</text>
      <text class="feature-text">标签管理，快速分类</text>
    </view>
  </view>

  <!-- 登录按钮 -->
  <view class="footer">
    <!-- 隐私政策同意复选框 -->
    <view class="privacy-section">
      <view class="privacy-checkbox" bindtap="togglePrivacy">
        <!-- 自定义复选框 -->
        <view class="custom-checkbox {{agreePrivacy ? 'checked' : ''}}">
          <text wx:if="{{agreePrivacy}}" class="checkbox-icon">✓</text>
        </view>
        <view class="privacy-content">
          <text class="privacy-text">我已阅读并同意</text>
          <text class="privacy-link" catchtap="viewAgreement">《用户协议》</text>
          <text class="privacy-text">和</text>
          <text class="privacy-link" catchtap="viewPrivacy">《隐私政策》</text>
        </view>
      </view>
    </view>

    <button
      class="login-btn"
      bindtap="handleLogin"
      hover-class="login-btn-hover"
      disabled="{{!canLogin || !agreePrivacy}}"
    >
      <text class="login-btn-text">{{canLogin && agreePrivacy ? '开始使用' : '请完善信息并同意协议'}}</text>
    </button>

    <!-- 跳过登录按钮 -->
    <view class="skip-login" bindtap="skipLogin">
      <text class="skip-text">暂不登录，先去体验</text>
    </view>
  </view>
</view>
